---
title: php对象的传值与克隆
date: 2017-10-11 22:40:32
tags:
	- php
	- 对象
---
### 对象的传值 ###

也就是对象间的赋值或复制。

由于对象的变量名并不直接指向该对象的内存空间地址，而是指向了该对象的内部的编号，值传递的时候，复制的其实是这个内部编号，所以就导致了对象间的值传递和引用传递尽管在语法上有所区别，但是在效果上是完全一样的。

也就是说，变量间的赋值（复制），无法开辟一个新的对象空间，有时候，也称之为对象间的“浅复制”。
<!--more-->
### 对象的克隆 ###

使用一个已有的对象，得到一个全新的对象呢（单独开辟新的内存空间），很显然，对象间的赋值是做不到的，这个时候需要使用对象的克隆。

所谓的克隆，不是通过类的实例化得到新的对象，而是通过一个已有的对象得到一个全新的对象。

	$newObj = clone $oldOnj;

新对象与旧对象之间，具有相同的属性名和属性值，但是占用不同的对象空间（内部编号不一样）。

##### __clone #####

在克隆一个对象的时候必须对该对象进行一些额外的初始化的工作，这个工作一般就是通过 `__clone` 来完成的。

触发时机：是在克隆一个对象的时候，对新对象进行初始化的工作。

	public funtion __clone(){
		$this->is_clone = true;
	}